<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-tw><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>224. Basic Calculator - Collie's Blog</title><meta name=author content><meta name=author-link content><meta name=description content="åŸå§‹é¡Œç›® çµ¦å®šå­—ä¸²åŒ…å« { '+', '-', ' ', '(', ')'} ä»¥åŠæ•¸å­—ï¼Œæ±‚å‡ºç®—å¼ç­”æ¡ˆã€‚ å€¼å¾—ç´€éŒ„ä¹‹è™• è™•ç†å¤ªå¤šæ¢ä»¶åˆ†æ”¯ æˆ‘è¦ºå¾—é€™é¡Œæœ€éº»ç…©çš„å‘åœ¨æ–¼ç¬¦è™Ÿå¤ªå¤šç¨®äº†ã€‚å¦‚æœç”¨ if ä¾†å¯«çš„è©±"><meta name=keywords content="leetcode,iterator,C++"><meta itemprop=name content="224. Basic Calculator"><meta itemprop=description content="åŸå§‹é¡Œç›® çµ¦å®šå­—ä¸²åŒ…å« { '+', '-', ' ', '(', ')'} ä»¥åŠæ•¸å­—ï¼Œæ±‚å‡ºç®—å¼ç­”æ¡ˆã€‚ å€¼å¾—ç´€éŒ„ä¹‹è™• è™•ç†å¤ªå¤šæ¢ä»¶åˆ†æ”¯ æˆ‘è¦ºå¾—é€™é¡Œæœ€éº»ç…©çš„å‘åœ¨æ–¼ç¬¦è™Ÿå¤ªå¤šç¨®äº†ã€‚å¦‚æœç”¨ if ä¾†å¯«çš„è©±"><meta itemprop=datePublished content="2022-11-22T16:42:51+08:00"><meta itemprop=dateModified content="2022-11-22T18:15:33+08:00"><meta itemprop=wordCount content="1031"><meta itemprop=image content="https://collieiscute.github.io/logo.png"><meta itemprop=keywords content="leetcode,iterator,C++,"><meta property="og:title" content="224. Basic Calculator"><meta property="og:description" content="åŸå§‹é¡Œç›® çµ¦å®šå­—ä¸²åŒ…å« { '+', '-', ' ', '(', ')'} ä»¥åŠæ•¸å­—ï¼Œæ±‚å‡ºç®—å¼ç­”æ¡ˆã€‚ å€¼å¾—ç´€éŒ„ä¹‹è™• è™•ç†å¤ªå¤šæ¢ä»¶åˆ†æ”¯ æˆ‘è¦ºå¾—é€™é¡Œæœ€éº»ç…©çš„å‘åœ¨æ–¼ç¬¦è™Ÿå¤ªå¤šç¨®äº†ã€‚å¦‚æœç”¨ if ä¾†å¯«çš„è©±"><meta property="og:type" content="article"><meta property="og:url" content="https://collieiscute.github.io/224/"><meta property="og:image" content="https://collieiscute.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-22T16:42:51+08:00"><meta property="article:modified_time" content="2022-11-22T18:15:33+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://collieiscute.github.io/logo.png"><meta name=twitter:title content="224. Basic Calculator"><meta name=twitter:description content="åŸå§‹é¡Œç›® çµ¦å®šå­—ä¸²åŒ…å« { '+', '-', ' ', '(', ')'} ä»¥åŠæ•¸å­—ï¼Œæ±‚å‡ºç®—å¼ç­”æ¡ˆã€‚ å€¼å¾—ç´€éŒ„ä¹‹è™• è™•ç†å¤ªå¤šæ¢ä»¶åˆ†æ”¯ æˆ‘è¦ºå¾—é€™é¡Œæœ€éº»ç…©çš„å‘åœ¨æ–¼ç¬¦è™Ÿå¤ªå¤šç¨®äº†ã€‚å¦‚æœç”¨ if ä¾†å¯«çš„è©±"><meta name=application-name content="FixIt"><meta name=apple-mobile-web-app-title content="FixIt"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://collieiscute.github.io/224/><link rel=prev href=https://collieiscute.github.io/2095/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"224. Basic Calculator","inLanguage":"zh-TW","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/collieiscute.github.io\/224\/"},"genre":"posts","keywords":"leetcode, iterator, C\u002b\u002b","wordcount":1031,"url":"https:\/\/collieiscute.github.io\/224\/","datePublished":"2022-11-22T16:42:51+08:00","dateModified":"2022-11-22T18:15:33+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"ä½œè€…"},"description":""}</script></head><body data-header-desktop=normal data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"dark"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=left><div class=header-title><a href=/ title="Collie's Blog"><img class="lazyload logo" src=/svg/loading.min.svg data-src="https://avatars.githubusercontent.com/u/43088530?v=4" data-srcset="https://avatars.githubusercontent.com/u/43088530?v=4, https://avatars.githubusercontent.com/u/43088530?v=4 1.5x, https://avatars.githubusercontent.com/u/43088530?v=4 2x" data-sizes=auto alt="Collie's Blog" title="Collie's Blog"><span class=header-title-pre> </span><span id=typeit-header-desktop class=typeit></span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> Posts</a></li><li class=menu-item><a class=menu-link href=/leetcode_homepage><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> Leetcode</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="æœå°‹æ–‡ç« æ¨™é¡Œæˆ–å…§å®¹ ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=æœå°‹><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=æ¸…é™¤><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=åˆ‡æ›ä¸»é¡Œ><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Collie's Blog"><img class="lazyload logo" src=/svg/loading.min.svg data-src="https://avatars.githubusercontent.com/u/43088530?v=4" data-srcset="https://avatars.githubusercontent.com/u/43088530?v=4, https://avatars.githubusercontent.com/u/43088530?v=4 1.5x, https://avatars.githubusercontent.com/u/43088530?v=4 2x" data-sizes=auto alt="https://avatars.githubusercontent.com/u/43088530?v=4" title="https://avatars.githubusercontent.com/u/43088530?v=4"><span class=header-title-pre> </span><span id=typeit-header-title-mobile class=typeit></span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="æœå°‹æ–‡ç« æ¨™é¡Œæˆ–å…§å®¹ ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=æœå°‹><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=æ¸…é™¤><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>å–æ¶ˆ</a></li><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> Posts</a></li><li class=menu-item><a class=menu-link href=/leetcode_homepage><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> Leetcode</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class="menu-item theme-switch" title=åˆ‡æ›ä¸»é¡Œ><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container data-page-style=wide><aside class=toc id=toc-auto><h2 class=toc-title>ç›®éŒ„&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>224. Basic Calculator</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><img class="lazyload avatar" src=/svg/loading.min.svg data-src="https://avatars.githubusercontent.com/u/43088530?v=4" data-srcset="https://avatars.githubusercontent.com/u/43088530?v=4, https://avatars.githubusercontent.com/u/43088530?v=4 1.5x, https://avatars.githubusercontent.com/u/43088530?v=4 2x" data-sizes=auto alt="https://avatars.githubusercontent.com/u/43088530?v=4" title="https://avatars.githubusercontent.com/u/43088530?v=4">&nbsp;</span></span></div><div class=post-meta-line><span title="2022-11-22 16:42:51"><i class="fa-regular fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime="2022 Nov 22">2022 Nov 22</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw" aria-hidden=true></i> ç´„ 1031 å­—</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw" aria-hidden=true></i> é è¨ˆé–±è®€ 3 åˆ†é˜</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>ç›®éŒ„</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#åŸå§‹é¡Œç›®httpsleetcodecomproblemsbasic-calculator><a href=https://leetcode.com/problems/basic-calculator/>åŸå§‹é¡Œç›®</a></a></li><li><a href=#å€¼å¾—ç´€éŒ„ä¹‹è™•>å€¼å¾—ç´€éŒ„ä¹‹è™•</a><ul><li><a href=#è™•ç†å¤ªå¤šæ¢ä»¶åˆ†æ”¯>è™•ç†å¤ªå¤šæ¢ä»¶åˆ†æ”¯</a></li><li><a href=#è™•ç†ç©ºæ ¼-erase--remove_if>è™•ç†ç©ºæ ¼ï¼š <code>erase</code> + <code>remove_if</code></a><ul><li><a href=#remove-ç³»åˆ—-vs-erase><code>remove</code> ç³»åˆ— v.s. <code>erase</code></a></li></ul></li><li><a href=#stack-è™•ç†è®Šè™Ÿ>stack è™•ç†è®Šè™Ÿ</a></li><li><a href=#iterator-å•é¡Œ>iterator å•é¡Œ</a></li></ul></li><li><a href=#solution>Solution</a></li></ul></nav></div></div><div class=content id=content><h2 id=åŸå§‹é¡Œç›®httpsleetcodecomproblemsbasic-calculator><a href=https://leetcode.com/problems/basic-calculator/ target=_blank rel="external nofollow noopener noreferrer">åŸå§‹é¡Œç›®</a></h2><p>çµ¦å®šå­—ä¸²åŒ…å« <code>{ '+', '-', ' ', '(', ')'}</code> ä»¥åŠæ•¸å­—ï¼Œæ±‚å‡ºç®—å¼ç­”æ¡ˆã€‚</p><h2 id=å€¼å¾—ç´€éŒ„ä¹‹è™•>å€¼å¾—ç´€éŒ„ä¹‹è™•</h2><h3 id=è™•ç†å¤ªå¤šæ¢ä»¶åˆ†æ”¯>è™•ç†å¤ªå¤šæ¢ä»¶åˆ†æ”¯</h3><p>æˆ‘è¦ºå¾—é€™é¡Œæœ€éº»ç…©çš„å‘åœ¨æ–¼ç¬¦è™Ÿå¤ªå¤šç¨®äº†ã€‚å¦‚æœç”¨ <code>if</code> ä¾†å¯«çš„è©±ï¼Œæœƒæœ‰å¤ªå¤šæ¢ä»¶åˆ†æ”¯ï¼ˆ branch condition ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä¸€ç›´å¾ˆæƒ³æŠŠæŸäº› branch åˆåœ¨ä¸€èµ·ã€‚æ¯”å¦‚èªªï¼š</p><ol><li><code>+</code>, <code>-</code> å¾Œé¢è·Ÿè‘— <code>(</code></li><li><code>+</code>, <code>-</code> å¾Œé¢è·Ÿè‘—æ•¸å­—</li><li><code>+</code>, <code>-</code> å¾Œé¢æ˜¯ <code></code>, è€Œå†ä¹‹å¾Œé‚„å¯ä»¥æ··åˆå‰å…©é …çµ„åˆå‡ºæ›´å¤šç¨®è®ŠåŒ–ã€‚</li></ol><p>é€™æ¨£ä¹˜èµ·ä¾†æƒ…æ³éå¸¸å¤šï¼Œä¹Ÿå¾ˆé›£ç¶­è­·ã€‚å¦‚æœå¯ä»¥å¿½ç•¥æ‰ <code>+</code>, <code>-</code>, åªåœ¨é‡åˆ°æ•¸å­—å’Œ <code>(</code> çš„æ™‚å€™ï¼Œå†å¾€å›æª¢æŸ¥ç¬¦è™Ÿï¼Œå°±å¯ä»¥æ¸›å°‘éœ€è¦åˆ—èˆ‰çš„æƒ…æ³æ•¸é‡äº†ã€‚</p><h3 id=è™•ç†ç©ºæ ¼-erase--remove_if>è™•ç†ç©ºæ ¼ï¼š <code>erase</code> + <code>remove_if</code></h3><p>å¦‚æœå¯ä»¥ä½¿å¾—å­—ä¸²è£¡é¢å®Œå…¨æ²’æœ‰ç©ºæ ¼ï¼Œé‚£éœ€è¦è™•ç†çš„æƒ…æ³ä¹Ÿå¯ä»¥å†æ›´åŠ ç²¾ç°¡ã€‚ C++ è£¡é¢æœ‰ä¸€å¥— <code>erase</code> + <code>remove_if</code> çµ„åˆæŠ€å¯ä»¥ç”¨ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=n>s</span><span class=p>.</span><span class=n>erase</span><span class=p>(</span><span class=n>remove_if</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>s</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=p>[](</span><span class=kt>unsigned</span> <span class=kt>char</span> <span class=n>ch</span><span class=p>)</span> <span class=p>{</span> <span class=k>return</span> <span class=n>std</span><span class=o>::</span><span class=n>isspace</span><span class=p>(</span><span class=n>ch</span><span class=p>);</span> <span class=p>}),</span> <span class=n>s</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=remove-ç³»åˆ—-vs-erase><code>remove</code> ç³»åˆ— v.s. <code>erase</code></h4><p>é€™å…©å€‹æˆ‘ä»¥å‰éƒ½ä¸€ç›´æä¸æ¸…æ¥šå·®ç•°ï¼Œç›´åˆ°å¯«é€™é¡Œæ™‚èªçœŸå»ç ”ç©¶ä»–å€‘ä¹‹é–“çš„å·®åˆ¥ä¸¦ç´€éŒ„æ–¼æ­¤ã€‚</p><ul><li><code>ForwardIt remove(ForwardIt first, ForwardIt last, const T& value)</code>: å®ƒåœ¨åšçš„äº‹æƒ…æ˜¯ç§»å‹•å…ƒç´ ï¼Œä¸¦ä¸åŒ…å«åˆªé™¤å…ƒç´ æœ¬èº«ã€‚å¦‚æœ [first, end) å€é–“å…§æœ‰ä»»ä½•å…ƒç´ çš„å€¼ == <code>value</code> å‰‡æŠŠå¾Œé¢çš„è³‡æ–™æŒ‡æ´¾çµ¦ç›®å‰é€™ä¸€æ ¼å…ƒç´ ï¼Œæœ€å¾Œå†å›å‚³ä¸€å€‹ iterator ç‰©ä»¶ç•¶ä½œå¾…æœƒè¦ <code>erase()</code> çš„èµ·å§‹é»ï¼Œæ™‚é–“è¤‡é›œåº¦æ¯”å¯«å€‹è¿´åœˆä¸æ–· <code>find</code> ä¸¦åˆªé™¤å¿«å¾ˆå¤šï¼ˆ $O(n^2)$ v.s. $O(n)$ ï¼‰ï¼Œæˆ‘è¦ºå¾— <a href=https://en.cppreference.com/w/cpp/algorithm/remove target=_blank rel="external nofollow noopener noreferrer">cppreference è¤‡è£½éä¾†çš„å¯¦ä½œ</a>è »æœ‰è¶£çš„ï¼Œæœ‰èˆˆè¶£çš„è©±æ¨è–¦è®€çœ‹çœ‹ã€‚</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>template</span><span class=o>&lt;</span> <span class=k>class</span> <span class=nc>ForwardIt</span><span class=p>,</span> <span class=k>class</span> <span class=nc>T</span> <span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=n>ForwardIt</span> <span class=n>remove</span><span class=p>(</span><span class=n>ForwardIt</span> <span class=n>first</span><span class=p>,</span> <span class=n>ForwardIt</span> <span class=n>last</span><span class=p>,</span> <span class=k>const</span> <span class=n>T</span><span class=o>&amp;</span> <span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=n>first</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>find</span><span class=p>(</span><span class=n>first</span><span class=p>,</span> <span class=n>last</span><span class=p>,</span> <span class=n>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>first</span> <span class=o>!=</span> <span class=n>last</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>for</span><span class=p>(</span><span class=n>ForwardIt</span> <span class=n>i</span> <span class=o>=</span> <span class=n>first</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span> <span class=o>!=</span> <span class=n>last</span><span class=p>;</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=p>(</span><span class=o>*</span><span class=n>i</span> <span class=o>==</span> <span class=n>value</span><span class=p>))</span>
</span></span><span class=line><span class=cl>				<span class=o>*</span><span class=n>first</span><span class=o>++</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>move</span><span class=p>(</span><span class=o>*</span><span class=n>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>first</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>è‡³æ–¼ <code>erase()</code> å‰‡æ˜¯å¯ä»¥å‚³å…¥é ­å°¾å…©å€‹ iterator åƒæ•¸ï¼Œåˆªé™¤è©²å€é–“ä¸¦ä¸”æŠŠé ­å°¾æ¥ä¸Šã€‚</li><li><code>remove_if()</code> è·Ÿ <code>remove()</code> æœ‰é»åƒï¼Œåªæ˜¯ç¬¬ä¸‰å€‹åƒæ•¸æ˜¯æ”¾ä¸€å€‹å›å‚³å€¼å¯è¢«è½‰æˆ <code>bool</code> çš„å‡½æ•¸ã€‚å®ƒæœƒå»å‘¼å«é‚£å€‹å‡½æ•¸ï¼Œä¸¦å¾å›å‚³å€¼åˆ¤æ–·è¦ä¸è¦ remove æ‰å…ƒç´ å…§çš„è³‡æ–™ã€‚</li></ul><h3 id=stack-è™•ç†è®Šè™Ÿ>stack è™•ç†è®Šè™Ÿ</h3><p>ç›´è¦ºä¸Šæ¡ç”¨ stack ä¾†åˆ¤æ–·æ‹¬è™Ÿå…§å€åŸŸè¦ä¸è¦è®Šè™Ÿï¼Œé€²å…¥æ‹¬è™Ÿå°± push ä¸€å€‹æ–°çš„ç¬¦è™Ÿï¼Œé›¢é–‹æ‹¬è™Ÿå‰‡ pop æœ€ä¸Šé¢çš„ç¬¦è™Ÿï¼Œå³å¯å®Œæˆåˆ¤æ–·ã€‚ï¼ˆå¦‚æœæœ‰ <code>*</code>, <code>/</code> æœƒæ¯”è¼ƒéº»ç…©ï¼Œè¦å¤šè™•ç†å››å‰‡é‹ç®—å„ªå…ˆåº¦çš„å•é¡Œï¼Œé‚„å¥½é€™é¡Œä¸ç”¨ğŸ˜…ï¼‰</p><h3 id=iterator-å•é¡Œ>iterator å•é¡Œ</h3><p>ä¼¼ä¹ä¸èƒ½æŠŠä»–ç†è§£ç‚ºæŒ‰ç…§å¤§å°æ’åˆ—çš„æŒ‡æ¨™ï¼Œç´€éŒ„æˆ‘é€™é™£å­æœ‰é‡åˆ°ä¸€äº›å‘ï¼š</p><ol><li>æ²’æœ‰ <code>&lt;=</code> operator, å¦‚æœç”¨ä»¥ä¸‹çš„å¯«æ³•æœƒæœ‰å•é¡Œã€‚è¦å¯«æˆ <code>!=</code> æ‰æ­£çµ±ã€‚</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=k>auto</span> <span class=n>it</span> <span class=o>=</span> <span class=n>obj</span><span class=p>.</span><span class=n>begin</span><span class=p>();</span> <span class=n>it</span> <span class=o>&lt;=</span> <span class=n>obj</span><span class=p>.</span><span class=n>end</span><span class=p>();</span> <span class=n>obj</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=c1>// do something
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>iterator æ²’æœ‰ç›´æ¥åŠ ä¸ŠæŸå€‹å¸¸æ•¸çš„é‹ç®—ï¼Œä½†æ˜¯æŒ‡æ¨™æœ‰é€™ç¨® Syntactic sugar å¯ä»¥è‡ªå‹•æ ¹æ“šå‹åˆ¥æ±ºå®šè¦å¾€å‰å¤šå°‘å€‹ bytes.</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>auto</span> <span class=n>it</span> <span class=o>=</span> <span class=n>obj</span><span class=p>.</span><span class=n>begin</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=c1>// auto it = it + 3; // æ²’æœ‰é€™ç¨®é‹ç®—
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>std</span><span class=o>::</span><span class=n>advance</span><span class=p>(</span><span class=n>it</span><span class=p>,</span> <span class=mi>3</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p>å¦‚æœä¹‹å¾Œèƒ½å¤ æ›´æ·±å…¥äº†è§£ iterator çš„åº•å±¤å¯¦ä½œï¼Œå†ä¾†å¯«ä¸€ç¯‡ç´€éŒ„æˆ‘å°æ–¼ iterator çš„äº†è§£å¥½äº†ğŸ˜†</p><h2 id=solution>Solution</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=c1>// after parsing, put `it` represent the last digit of num
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=nf>parse_num</span><span class=p>(</span><span class=kt>int</span><span class=o>&amp;</span> <span class=n>num_head</span><span class=p>,</span> <span class=k>const</span> <span class=n>string</span><span class=o>&amp;</span> <span class=n>s</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>cnt</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>sign</span> <span class=o>=</span> <span class=p>(</span><span class=n>num_head</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>s</span><span class=p>[</span><span class=n>num_head</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;-&#39;</span><span class=p>)</span> <span class=o>?</span> <span class=o>-</span><span class=mi>1</span> <span class=o>:</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span><span class=p>(;</span> <span class=n>isdigit</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>num_head</span> <span class=o>+</span> <span class=n>cnt</span><span class=p>]);</span> <span class=n>cnt</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>stoi</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>substr</span><span class=p>(</span><span class=n>num_head</span><span class=p>,</span> <span class=n>cnt</span><span class=p>));</span>
</span></span><span class=line><span class=cl>	<span class=n>num_head</span> <span class=o>+=</span> <span class=p>(</span><span class=n>cnt</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>n</span> <span class=o>*</span> <span class=n>sign</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>calculate</span><span class=p>(</span><span class=n>string</span> <span class=n>s</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>s</span><span class=p>.</span><span class=n>erase</span><span class=p>(</span><span class=n>remove_if</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>s</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=p>[](</span><span class=kt>unsigned</span> <span class=kt>char</span> <span class=n>ch</span><span class=p>)</span> <span class=p>{</span> <span class=k>return</span> <span class=n>std</span><span class=o>::</span><span class=n>isspace</span><span class=p>(</span><span class=n>ch</span><span class=p>);</span> <span class=p>}),</span>
</span></span><span class=line><span class=cl>				<span class=n>s</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
</span></span><span class=line><span class=cl>		<span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>sign_stack</span><span class=p>{};</span>
</span></span><span class=line><span class=cl>		<span class=kt>int</span> <span class=n>ret</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>cur_sign</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=k>for</span><span class=p>(</span><span class=k>auto</span> <span class=n>it</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>it</span> <span class=o>&lt;</span> <span class=n>s</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=n>it</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=k>if</span><span class=p>(</span><span class=n>isdigit</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>it</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>				<span class=n>ret</span> <span class=o>+=</span> <span class=n>parse_num</span><span class=p>(</span><span class=n>it</span><span class=p>,</span> <span class=n>s</span><span class=p>)</span> <span class=o>*</span> <span class=n>cur_sign</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>else</span> <span class=nf>if</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>it</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;(&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>				<span class=k>if</span><span class=p>(</span><span class=n>it</span><span class=o>&gt;</span><span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>s</span><span class=p>[</span><span class=n>it</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;-&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>					<span class=n>sign_stack</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>				<span class=k>else</span>
</span></span><span class=line><span class=cl>					<span class=n>sign_stack</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>				<span class=n>cur_sign</span> <span class=o>*=</span> <span class=n>sign_stack</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>			<span class=k>else</span> <span class=nf>if</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>it</span><span class=p>]</span> <span class=o>==</span> <span class=err>&#39;</span><span class=p>)</span><span class=err>&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>				<span class=n>cur_sign</span> <span class=o>/=</span> <span class=n>sign_stack</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>
</span></span><span class=line><span class=cl>				<span class=n>sign_stack</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=n>ret</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="2022-11-22 18:15:33">æ›´æ–°æ–¼ 2022 Nov 22&nbsp;</span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/224/index.md title=é–±è®€åŸå§‹æ–‡æª” class=link-to-markdown>é–±è®€åŸå§‹æ–‡æª”</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="åˆ†äº«åˆ° Twitter" data-sharer=twitter data-url=https://collieiscute.github.io/224/ data-title="224. Basic Calculator" data-hashtags=leetcode,iterator,C++><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="åˆ†äº«åˆ° Facebook" data-sharer=facebook data-url=https://collieiscute.github.io/224/ data-hashtag=leetcode><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="åˆ†äº«åˆ° WhatsApp" data-sharer=whatsapp data-url=https://collieiscute.github.io/224/ data-title="224. Basic Calculator" data-web><i class="fa-brands fa-whatsapp fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="åˆ†äº«åˆ° Line" data-sharer=line data-url=https://collieiscute.github.io/224/ data-title="224. Basic Calculator"><i data-svg-src=/lib/simple-icons/icons/line.min.svg aria-hidden=true></i></a>
<a href=javascript:void(0); title="åˆ†äº«åˆ° Evernote" data-sharer=evernote data-url=https://collieiscute.github.io/224/ data-title="224. Basic Calculator"><i class="fa-brands fa-evernote fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="åˆ†äº«åˆ° Trello" data-sharer=trello data-url=https://collieiscute.github.io/224/ data-title="224. Basic Calculator" data-description><i class="fa-brands fa-trello fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/leetcode/>leetcode</a>,&nbsp;<a href=/tags/iterator/>iterator</a>,&nbsp;<a href=/tags/c++/>C++</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>è¿”å›</a></span>&nbsp;|&nbsp;<span><a href=/>ä¸»é </a></span></section></div><div class=post-nav><a href=/2095/ class=prev rel=prev title="2095. Delete the Middle Node of a Linked List"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>2095. Delete the Middle Node of a Linked List</a></div></div></article></main></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=å›åˆ°é ‚éƒ¨><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div></div><a href=https://github.com/CollieIsCute/CollieIsCute.github.io title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner left d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><noscript><div class=noscript-warning>FixIt ä¸»é¡Œåœ¨å•Ÿç”¨ JavaScript çš„æƒ…æ³ä¸‹æ•ˆæœæœ€ä½³ã€‚</div></noscript></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/lunr/lunr.min.js defer></script><script src=/lib/lunr/lunr.stemmer.support.min.js defer></script><script src=/lib/lunr/lunr.zh.min.js defer></script><script src=/lib/lazysizes/lazysizes.min.js async defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/typeit/index.umd.js defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script>window.config={code:{copyTitle:"è¤‡è£½åˆ°å‰ªè²¼æ¿",maxShownLines:10},comment:{enable:!1},cookieconsent:{content:{dismiss:"åŒæ„",link:"ç­è§£æ›´å¤š",message:"æœ¬ç¶²ç«™ä½¿ç”¨ Cookies ä¾†æ”¹å–„æ‚¨çš„æµè¦½é«”é©—ã€‚"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},data:{"typeit-header-desktop":" Collie's Blog","typeit-header-title-mobile":" Collie's Blog"},enablePWA:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/lib/lunr/lunr.segmentit.js",maxResultLength:10,noResultsFound:"æ²’æœ‰æ‰¾åˆ°çµæœ",snippetLength:30,type:"lunr"},typeit:{cursorChar:"",cursorSpeed:1e3,data:{"typeit-header-desktop":["typeit-header-desktop"],"typeit-header-title-mobile":["typeit-header-title-mobile"]},duration:1e3,speed:40}}</script><script src=/js/theme.min.js defer></script></body></html>