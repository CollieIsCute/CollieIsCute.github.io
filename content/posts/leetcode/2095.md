---
title: "2095. Delete the Middle Node of a Linked List"
subtitle: ""
date: 2022-10-22T00:23:42+08:00
draft: false
author: ""
authorLink: ""
authorEmail: ""
description: ""
keywords: ""
license: ""
comment: false
weight: 0

tags:
- leetcode
- indirect pointer

hiddenFromHomePage: false
hiddenFromSearch: false

summary: ""
resources:
- name: featured-image
  src: featured-image.jpg
- name: featured-image-preview
  src: featured-image-preview.jpg

toc:
  enable: true
math:
  enable: true
lightgallery: false
seo:
  images: []

repost:
  enable: false
  url: ""
---

## åŸå§‹é¡Œç›®
é€™é¡Œæ˜¯çµ¦å®šä¸€å€‹ä¸å›ºå®šé•·åº¦çš„ link list, ç„¶å¾Œè¦æ±‚åˆªé™¤æœ€ä¸­é–“çš„é‚£å€‹ node.

## å€¼å¾—ç´€éŒ„ä¹‹è™•
æ‹œè®€äº†[ä½ æ‰€ä¸çŸ¥é“çš„ C èªè¨€ï¼š linked list å’Œéé€£çºŒè¨˜æ†¶é«”](https://hackmd.io/@sysprog/c-linked-list#%E5%BE%9E-Linux-%E6%A0%B8%E5%BF%83%E7%9A%84%E8%97%9D%E8%A1%93%E8%AB%87%E8%B5%B7)ä¸€æ–‡ä¸­æ‰€æåˆ°çš„ "__good taste__" æ®µè½ , è¦ºå¾—éå¸¸æœ‰è¶£è€Œèºèºæ¬²è©¦ï¼Œæ‰€ä»¥æ‰¾é€™é¡Œä¾†ç·´ç·´æ‰‹ã€‚ï¼ˆå¾Œä¾†ç™¼ç¾åº•ä¸‹çš„ä¾‹å­ä¹Ÿæœ‰å¯«åˆ°é€™é¡ŒğŸ˜…ï¼Œè€Œä¸”æ•ˆç‡åˆæ¯”æˆ‘æƒ³åˆ°çš„è§£æ›´å¥½ï¼Œç”šè‡³é‚„æœ‰ä¸€äº›è¨˜æ†¶é«”ç®¡ç†çš„ç´°ç¯€ï¼Œå­¸åˆ°äº†ï¼ï¼‰  
é€™è£¡æ‰€è¬‚çš„ good taste æ˜¯æŒ‡åˆ©ç”¨ä¸€äº›æŠ€å·§ï¼Œå»æ¸›å°‘ã€Œç‰¹ä¾‹ã€ç™¼ç”Ÿçš„æƒ…å½¢ï¼Œé€²è€Œä½¿ç¨‹å¼ç¢¼æ›´åŠ ç²¾ç¾ä¹¾è„†ã€‚èˆ‰ä¾‹ä¾†èªªï¼ŒåŸæœ¬åœ¨é€™é¡Œå¸¸è¦‹çš„è§£æ³•æœ‰å…©ç¨®ï¼š
1. æŠŠæ•´å€‹ linked list éæ­·ï¼Œè¨ˆç®—æœ‰å¹¾å€‹ç¯€é»ã€‚ç®—å®Œå†è·‘ä¸€æ¬¡ `for` è¿´åœˆæŠŠæœ€ä¸­é–“çš„ç¯€é»åˆªé™¤ã€‚
2. åˆ©ç”¨ `fast` å’Œ `slow` å…©æŒ‡æ¨™ï¼Œä¸Ÿé€²è¿´åœˆè£¡é¢ï¼Œ `fast` æ¯å›åˆå‰é€²å…©æ ¼ï¼Œ `slow` æ¯å›åˆå‰é€²ä¸€æ ¼ï¼Œé€™æ¨£åªè¦ä¸€æ¬¡å›åœˆå°±å¯ä»¥æŠ“åˆ°è¦åˆªé™¤çš„ç¯€é»ä¸¦ä¸”åˆªé™¤ã€‚  
{{< admonition note "é™„è¨»" >}}
å…©è€…çš„æ™‚é–“è¤‡é›œåº¦éƒ½æ˜¯ $\log (n)$, ä½†æ˜¯å¾Œè€…çš„ç¨‹å¼ç¢¼é‡æœƒå› ç‚ºå°‘ä¸€å€‹è¿´åœˆè€Œæ¯”è¼ƒå°‘ï¼Œå› æ­¤æˆ‘ä»¥å¾Œè€…ç‚ºæ¯”è¼ƒæ¨™æº–ã€‚
{{< /admonition >}}
- æ­¤ç¨‹å¼ç¢¼å–è‡ª leetcode è«–å£‡çš„æŸä½å¤§å¤§å¯«çš„[è©³è§£æ–‡ç« ](https://leetcode.com/problems/delete-the-middle-node-of-a-linked-list/solutions/2698219/delete-the-middle-node-of-a-linked-list/)å¾®èª¿è€Œå¾—  

```cpp
class Solution {
public:
    ListNode* deleteMiddle(ListNode* head) {
        if (head -> next == nullptr)
            return nullptr;
        ListNode *slow = head, *fast = head -> next -> next;
        while (fast != nullptr && fast -> next != nullptr) {
            slow = slow -> next;
            fast = fast -> next -> next;
        }
        slow -> next = slow -> next -> next;
        return head;
    }
};
```
å¯ä»¥æ³¨æ„åˆ°ï¼Œä¸Šé¢çš„è§£æ³•æœƒæœ‰ä¸€å€‹ç‰¹ä¾‹ (edge case), å¦‚æœé–‹é ­æ˜¯ `nullptr`, é‚£å°±å¦‚ä½•å¦‚ä½•......ã€‚æœ‰æ™‚å€™ç‰¹ä¾‹ä¸€å¤šï¼Œæœ‰æ™‚å€™æœƒå¯«äº†æ•´é¢çš„ `if-else`, çœ‹äº†å°±ç—›è‹¦ğŸ˜µâ€ğŸ’«ã€‚å¦‚æœæœ‰å€‹é­”æ³•å¯ä»¥ä½¿é€™å€‹ç‰¹ä¾‹æ›´æ¸›å°‘ï¼Œé‚£ç¨‹å¼ç¢¼å°±å¯ä»¥æ›´ç²¾ç°¡ï¼Œé€™ä¹Ÿæ˜¯æˆ‘é€™æ¬¡çš„ç·´ç¿’ç›®æ¨™ã€‚

å› ç‚ºé¡Œæ„è¦å®š `1 <= node.size() <= 100000`, å› æ­¤å‰è€…çš„åŸæœ¬çš„åšæ³•ï¼š
1. ä¸ç”¨åˆ¤æ–·æ˜¯å¦ç‚ºç©º list
2. è¦åˆ¤æ–·æ˜¯å¦åªæœ‰ä¸€å€‹ node, è‹¥æ˜¯åªæœ‰ä¸€å€‹ node, å‰‡æŠŠè©² node åˆªé™¤
3. è‹¥éåªæœ‰ä¸€å€‹ node, å‰‡æŒ‰ç…§ `fast`, `slow` åšæ³•å¾é ­é–‹å§‹ç¶“éæ­¤ list æ¯å€‹ç¯€é»ã€‚
{{< admonition note "æ³¨æ„" >}}
ç”±æ–¼æˆ‘éœ€è¦æŠŠç›®æ¨™å‰ä¸€å€‹ node çš„ `node->next` æŒ‡å‘ç›®æ¨™å¾Œä¸€å€‹ node çš„ `node->next`, æ‰€ä»¥æœ€å¾Œ `slow` æœƒæŒ‡å‘ç›®æ¨™çš„ä¸Šä¸€å€‹ node, è€Œ `slow->next` æ‰æ˜¯è¦è¢«åˆªé™¤çš„ç¯€é»ã€‚ä¹Ÿå°±æ˜¯èªªï¼Œ __1 å€‹ node è·Ÿ 2~3 å€‹ node æ™‚ï¼Œéœ€è¦åˆªé™¤çš„ç›®æ¨™ä¸ä¸€æ¨£__ã€‚

é€™æœƒæœ‰å€‹å•é¡Œï¼šæˆ‘æ²’è¾¦æ³•å·§å¦™çš„é€é initialize `slow` è·Ÿ `fast` å…©å€‹æŒ‡æ¨™, ä½¿å¾— edge case è¢«æ¶ˆæ»…ã€‚
æ›è¨€ä¹‹ï¼Œ__ç•¶ list åªæœ‰ 1 å€‹ node çš„æ™‚å€™ï¼Œæˆ‘éœ€è¦å»æ“ä½œ `head` è€Œä¸æ˜¯ `slow` æ‰èƒ½æŠŠç›®æ¨™ node åˆªé™¤ã€‚__ ä¹Ÿå› æ­¤æ‰æœ‰äº†ä¸‹é¢ indirect pointer çš„è§£æ³•ã€‚
{{< /admonition >}}

æ‰¿ä¸Šæ‰€è¿°ï¼Œæˆ‘æœƒéœ€è¦æŸå€‹ã€Œæ±è¥¿ã€ï¼Œé€™å€‹æ±è¥¿æœ‰è¾¦æ³•è¦–æƒ…æ³é¸æ“‡æˆ‘è¦æ“ä½œ `head` é‚„æ˜¯ `slow`ï¼ˆä¸å®Œå…¨æ˜¯é€™æ¨£ï¼Œä½†å¯ä»¥é€™æ¨£å»ç†è§£æœƒæ¯”è¼ƒç›´è§€ï¼‰ï¼Œè€Œé‚£å€‹æ±è¥¿å°±æ˜¯é–“æ¥æŒ‡æ¨™ (indirect pointer) ï¼Œä¸€ç¨®æŒ‡å‘æŒ‡æ¨™è¨˜æ†¶é«”çš„æŒ‡æ¨™ã€‚

- ä»¥ä¸‹ç¨‹å¼ç¢¼æ˜¯å˜—è©¦ç·´ç¿’ indirect pointer æŠ€å·§çš„è§£æ³•  
  (é€™å€‹é­”æ³•æˆ‘åœ¨[åŸæ–‡](https://hackmd.io/@sysprog/c-linked-list#%E5%BE%9E-Linux-%E6%A0%B8%E5%BF%83%E7%9A%84%E8%97%9D%E8%A1%93%E8%AB%87%E8%B5%B7)èŠ±äº†å¥½å¹¾å€‹å°æ™‚åè¦†ç ”ç©¶äº†å¾ˆå¤šéï¼Œä¸€é–‹å§‹è¦ºå¾—è¶…ç´šä¸å¥½æ‡‚XD)
```cpp
class Solution {
public:
    ListNode* deleteMiddle(ListNode* head) {
		ListNode **indirect_del = &head, *fast = head;
		for(bool go_next = false; fast; fast = fast->next, go_next = !go_next)
			indirect_del = go_next ? &(*indirect_del)->next : indirect_del;
		*indirect_del = (*indirect_del)->next;
		return head;
	}
};
```

å› ç‚ºå¤šäº†é€™å±¤ã€Œé–“æ¥çš„é—œè¯ã€ï¼Œ `indirect_del` ä¸€é–‹å§‹æ˜¯æŒ‡å‘ `head` çš„åœ°å€ï¼Œå› æ­¤å¯ä»¥å¿«æ¨‚åœ°é™¤å»å‰è¿°æƒ±äººçš„ edge case. ä¹‹å¾Œ `indirect_del` åˆå¯ä»¥æŒ‡å‘ä»»ä½•ä¸€å€‹ node çš„ `node->next` æŒ‡æ¨™ï¼Œä»¥ç²å¾—æ‰€æœ‰æŒ‡æ¨™çš„åŠŸèƒ½ã€‚åˆ°é€™é‚Šå¯èƒ½è¦å¤šå°ç…§å¹¾æ¬¡å…©è€…ä¹‹é–“æœ‰ç„¡ "indirect pointer" çš„å·®åˆ¥æœƒæ¯”è¼ƒå®¹æ˜“ç†è§£ï¼Œç†è§£ä¹‹å¾Œä¸ç¦æ„Ÿå˜†ç¨‹å¼é€™é–€è—è¡“çœŸæ˜¯åšå¤§ç²¾æ·±ï¼
